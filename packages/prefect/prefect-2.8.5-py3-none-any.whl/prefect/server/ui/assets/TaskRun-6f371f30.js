import{d as C,aj as N,Z as O,c as n,ax as p,am as A,u as t,b as k,w as e,f as _,a2 as l,a3 as B,T as F,a as d,e as u,ay as V,az as f,ah as j,ai as m,aA as M,aB as z,aC as J,aD as L,au as P}from"./index-7acf17d8-a33ed8ec.js";import{u as Z}from"./usePageTitle-37d51d49.js";import"./index-949f2e3b.js";import{r as $}from"./routes-76e72039.js";const U=C({__name:"TaskRun",setup(q){const R=B(),r=N("taskRunId"),c=O(),v=n(()=>{const a=["Logs","Task Inputs"];return F.xl||a.push("Details"),a}),g=n(()=>r.value?[r.value]:null),T=p(c.taskRuns.getTaskRun,g,{interval:3e4}),s=n(()=>T.response),o=n(()=>{var a;return(a=s.value)==null?void 0:a.flowRunId}),h=n(()=>o.value?[o.value]:null),w=p(c.flowRuns.getFlowRun,h),i=n(()=>{var a;return(a=s.value)!=null&&a.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function y(){w.refresh(),R.push($.flowRun(o.value))}const x=n(()=>{var a;return(a=s.value)==null?void 0:a.stateType});A(x);const I=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return Z(I),(a,E)=>{const b=l("p-code-highlight"),D=l("p-tabs"),S=l("p-layout-well");return t(s)?(d(),k(S,{key:0,class:"task-run"},{header:e(()=>[u(t(V),{"task-run-id":t(s).id,onDelete:y},null,8,["task-run-id"])]),well:e(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:e(()=>[u(D,{tabs:t(v)},j({details:e(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:e(()=>[u(t(L),{"task-run":t(s)},null,8,["task-run"])]),"task-inputs":e(()=>[t(s)?(d(),k(t(P),{key:0,"text-to-copy":t(i)},{default:e(()=>[u(b,{lang:"json",text:t(i),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):_("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:e(()=>[m(" Task inputs "),u(t(M),{title:"Task Inputs"},{default:e(()=>[m(z(t(J).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):_("",!0)}}});export{U as default};
