import{d as M,Z as O,aj as R,bM as S,p as U,c as l,aP as j,aH as q,u as o,b as k,w as t,f as d,a2 as s,T as A,a as m,e as a,bN as Q,bO as w,aM as V,bP as Y,bQ as z,bJ as D}from"./index-7acf17d8-a33ed8ec.js";import{u as F}from"./usePageTitle-37d51d49.js";const E=M({__name:"WorkPool",setup(H){const f=O(),r=R("workPoolName"),b=S(),_={interval:3e5},c=U(f.workPools.getWorkPoolByName,[r.value],_),e=l(()=>c.response),u=l(()=>{var n;return((n=e.value)==null?void 0:n.type)==="prefect-agent"}),P=l(()=>[{label:"Details",hidden:A.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:!b.access.workers||u.value}]),{tab:p,tabs:v}=j(P),g=l(()=>e.value?`Your work pool ${e.value.name} is ready to go!`:"Your work pool is ready to go!"),y=l(()=>{var n;return`prefect ${u.value?"agent":"worker"} start --pool ${(n=e.value)==null?void 0:n.name}`}),C=l(()=>`Work pools organize work that ${u.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:B}=q({workPools:{name:[r.value]}}),W=l(()=>e.value?`Work Pool: ${e.value.name}`:"Work Pool");return F(W),(n,i)=>{const N=s("CodeBanner"),h=s("p-tabs"),T=s("p-layout-well"),$=s("p-layout-default");return o(e)?(m(),k($,{key:0},{header:t(()=>[a(o(Q),{"work-pool":o(e),onUpdate:o(c).refresh},null,8,["work-pool","onUpdate"])]),default:t(()=>[o(e)?(m(),k(T,{key:0,class:"work-pool"},{header:t(()=>[a(N,{command:o(y),title:o(g),subtitle:o(C)},null,8,["command","title","subtitle"])]),well:t(()=>[a(o(w),{alternate:"","work-pool":o(e)},null,8,["work-pool"])]),default:t(()=>[a(h,{selected:o(p),"onUpdate:selected":i[0]||(i[0]=x=>D(p)?p.value=x:null),tabs:o(v)},{details:t(()=>[a(o(w),{"work-pool":o(e)},null,8,["work-pool"])]),runs:t(()=>[a(o(V),{"flow-run-filter":o(B)},null,8,["flow-run-filter"])]),"work-queues":t(()=>[a(o(Y),{"work-pool-name":o(r)},null,8,["work-pool-name"])]),workers:t(()=>[a(o(z),{"work-pool-name":o(r)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):d("",!0)]),_:1})):d("",!0)}}});export{E as default};
