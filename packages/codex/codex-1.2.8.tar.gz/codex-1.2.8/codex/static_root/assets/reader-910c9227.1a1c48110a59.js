import{c as h,o as c,e as f,w as i,j as _,t as k,z as C,bQ as p,b,g as a,f as B,a as S,bR as T,an as R,B as w,d as m,bS as ye,bT as Ce,i as l,C as v,aC as D,bi as ee,bU as $e,bV as Te,bW as Be,bX as Re,r as F,bY as te,F as $,bZ as oe,a$ as O,aV as Ie,b_ as De,K as Ve,aG as xe,H as Le,I,ar as N,aq as q,as as Ee,at as Ae,b$ as Oe,c0 as Ne,c1 as Fe,bM as Ge,c2 as Ue,bO as qe,l as M,n as W,L as ae,c3 as Me,R as se,c4 as We,bA as Ke,c5 as ze,c6 as je,c7 as K,a7 as He,bn as Ye,ba as Xe,c8 as Ze,bC as Qe,c9 as Je,bD as et,ca as tt,bE as ot,az as at,cb as st,cc as nt,cd as rt,ce as it,p as lt,q as ct,V as z,bh as ne,A as j,bg as dt,cf as ut,bb as H,be as Y,cg as pt}from"./admin-30c006a2.js";import{_ as re,a as ie,b as le,P as ce,c as de}from"./metadata-dialog-1e2d2b7b.js";const gt={name:"ReaderNavButton",components:{PaginationNavButton:re},props:{value:{type:Number,required:!0},twoPages:{type:Boolean,default:!1}},computed:{toRoute(){return{params:{...this.$route.params,page:this.value}}},title(){return"to page "+this.value},disabled(){return this.value===+this.$route.params.page||this.twoPages&&this.value%2&&this.value-1===+this.$route.params.page}}};function _t(e,t,s,d,n,o){const r=re;return c(),f(r,{disabled:o.disabled,title:o.title,to:o.toRoute},{default:i(()=>[_(k(s.value),1)]),_:1},8,["disabled","title","to"])}const ue=h(gt,[["render",_t]]),mt={name:"ReaderNavToolbar",components:{PaginationSlider:ie,ReaderNavButton:ue,PaginationToolbar:le},computed:{...C(p,["activeSettings","activeBook"]),key(){return`${this.$route.params.pk} - ${this.twoPages}`},maxPage(){return this.activeBook?this.activeBook.maxPage:0},twoPages(){return this.activeSettings.twoPages},step(){return this.activeSettings.twoPages?2:1},trackColor(){return this.twoPages&&+this.$route.params.page>=this.maxPage-1?this.$vuetify.theme.current.colors.primary:""}},methods:{...b(p,["routeToPage"])}};function ht(e,t,s,d,n,o){const r=ue,u=ie,g=le;return o.maxPage?(c(),f(g,{key:0},{default:i(()=>[a(r,{value:0}),(c(),f(u,{key:o.key,"model-value":+e.$route.params.page,min:0,max:o.maxPage,step:o.step,"track-color":o.trackColor,"onUpdate:modelValue":t[0]||(t[0]=y=>e.routeToPage(y))},null,8,["model-value","max","step","track-color"])),a(r,{value:o.maxPage,"two-pages":o.twoPages},null,8,["value","two-pages"])]),_:1})):B("",!0)}const pe=h(mt,[["render",ht]]),ft={rel:"prefetch",as:"image"},ge=function(e){const t=[];for(const s of e)s&&t.push({...ft,href:s});return{link:t}};const kt={name:"PageChangeLink",props:{direction:{type:String,required:!0}},head(){return ge([this.prefetchSrc1,this.prefetchSrc2])},computed:{...S(p,{params(e){return e.routes[this.direction]},prefetchSrc2(e){const t=e.books.get(this.params.pk);if(!t)return!1;const s=t.settings||{};if(!this.getSettings(e.readerSettings,s).twoPages)return!1;const n={...this.params,page:this.params.page+1};return n.page>t.maxPage?!1:T(n)}}),prefetchSrc1(){return this.params?T(this.params):!1},route(){return this.params?{params:this.params}:{}},label(){return`${this.direction==="prev"?"Previous":"Next"} Page`}},methods:{...b(p,["getSettings"])}};function bt(e,t,s,d,n,o){const r=w("router-link");return c(),f(r,{class:R(["pageChangeColumn",{[s.direction]:!0}]),to:o.route,"aria-label":o.label,onClick:t[0]||(t[0]=u=>u.stopImmediatePropagation())},null,8,["to","aria-label","class"])}const _e=h(kt,[["render",bt],["__scopeId","data-v-aa4efc86"]]);const vt={name:"LoadingPage",components:{Placeholder:ce},props:{twoPages:{type:Boolean,required:!0}}};function Pt(e,t,s,d,n,o){const r=w("Placeholder");return c(),m("div",{class:R(["pageLoading",{twoPages:s.twoPages}])},[a(r,{class:"pagePlaceholder"})],2)}const wt=h(vt,[["render",Pt],["__scopeId","data-v-2bc79db9"]]);const X="unauthorized",St={name:"ErrorPage",props:{twoPages:{type:Boolean,required:!0},type:{type:String,required:!0}},computed:{text(){return this.type===X?"Protected page":"Failed to load page"},icon(){return this.type===X?ye:Ce}}},yt={class:"pageErrorContainer"},Ct={class:"pageErrorText"};function $t(e,t,s,d,n,o){return c(),m("div",{class:R(["pageError",{twoPages:s.twoPages}])},[l("div",yt,[l("div",Ct,k(o.text),1),a(v,{class:"pageErrorIcon"},{default:i(()=>[_(k(o.icon),1)]),_:1})])],2)}const Tt=h(St,[["render",$t],["__scopeId","data-v-afc58246"]]);const Bt={name:"ImgPage",props:{pk:{type:Number,required:!0},src:{type:String,required:!0},settings:{type:Object,required:!0},fitToClass:{type:Object,required:!0}},emits:["load","error"]},Rt=["src"];function It(e,t,s,d,n,o){return c(),m("img",D({class:s.fitToClass,src:s.src},e.$attrs,{onError:t[0]||(t[0]=r=>e.$emit("error")),onLoad:t[1]||(t[1]=r=>e.$emit("load"))}),null,16,Rt)}const Dt=h(Bt,[["render",It],["__scopeId","data-v-d4a94438"]]);const Vt=ee($e(()=>Be(()=>import("./page-pdf-46143000.js"),["assets/page-pdf-46143000.js","assets/admin-30c006a2.js","assets/admin-1fb653fc.css","assets/page-pdf-da2d2f8b.css"]))),xt=333,Lt={name:"BookPage",components:{Placeholder:ce,ErrorPage:Tt,LoadingPage:wt},props:{book:{type:Object,required:!0},page:{type:Number,required:!0},settings:{type:Object,required:!0},fitToClass:{type:Object,required:!0}},data(){return{showProgress:!1,loaded:!1,error:!1}},computed:{src(){const e={pk:this.book.pk,page:this.page};return T(e)},component(){return this.book.fileFormat==="pdf"?Vt:Dt}},mounted(){setTimeout(function(){this.loaded||(this.loading=!0)},xt)},methods:{onLoad(){this.showProgress=!1,this.loaded=!0,this.error=!1},onError(){this.error="load",this.showProgress=!1},onUnauthorized(){this.error="unauthorized",this.showProgress=!1}}},Et={class:"page"};function At(e,t,s,d,n,o){const r=w("ErrorPage"),u=w("LoadingPage");return c(),m("div",Et,[n.error?(c(),f(r,{key:0,"two-pages":s.settings.twoPages,type:n.error},null,8,["two-pages","type"])):n.showProgress&&!n.loaded?(c(),f(u,{key:1,"two-pages":s.settings.twoPages},null,8,["two-pages"])):(c(),f(Te(o.component),{key:2,pk:s.book.pk,src:o.src,settings:s.settings,"fit-to-class":s.fitToClass,onError:o.onError,onLoad:o.onLoad,onUnauthorized:o.onUnauthorized},null,40,["pk","src","settings","fit-to-class","onError","onLoad","onUnauthorized"]))])}const Ot=h(Lt,[["render",At],["__scopeId","data-v-887e7676"]]),Nt={name:"PagesWindow",components:{BookPage:Ot,PageChangeLink:_e},props:{book:{type:Object,required:!0}},emits:["click"],data(){return{activePage:void 0}},computed:{...S(p,{bookRoutes:e=>e.routes.books,settings(e){const t=e.books.get(this.book.pk),s=t?t.settings:{};return e.getSettings(e.readerSettings,s)},prevBookPk:e=>{var t;return(t=e.routes.books)==null?void 0:t.prev.pk},twoPages:e=>e.activeSettings.twoPages}),fitToClass(){return this.getFitToClass(this.settings)},pages(){var s;const e=((s=this.book)==null?void 0:s.maxPage)+1,t=this.settings.twoPages?2:1;return Re.range(0,e,t)},secondPage(){return this.settings.twoPages&&+this.activePage+1<=this.book.maxPage}},watch:{$route(e){+e.params.pk===this.book.pk&&this.setActivePageForRoute(+e.params.page)},twoPages(){this.setActivePageForRoute(+this.$route.params.page)}},created(){let e;this.book.pk===+this.$route.params.pk?e=+this.$route.params.page:this.book.pk===this.prevBookPk?e=this.book.maxPage:e=0,this.activePage=e},methods:{...b(p,["routeToPage","setRoutesAndBookmarkPage","setRoutes","getSettings","getFitToClass"]),setActivePageForRoute(e){if(e<0)return console.warn("Page out of bounds. Redirecting to 0."),this.routeToPage(0);if(e>this.book.maxPage)return console.warn(`Page out of bounds. Redirecting to ${this.book.maxPage}.`),this.routeToPage(this.book.maxPage);if(this.settings.twoPages&&e%2!==0)return console.debug(`Requested odd page ${e} in two pages mode. Flip back one`),this.routeToPage(e-1);this.activePage=e,this.setRoutesAndBookmarkPage(+this.$route.params.page),window.scrollTo(0,0)}}};function Ft(e,t,s,d,n,o){const r=_e,u=w("BookPage");return c(),f(oe,{"show-arrows":"","model-value":n.activePage},{prev:i(()=>[a(r,{direction:"prev"})]),next:i(()=>[a(r,{direction:"next"})]),default:i(()=>[(c(!0),m($,null,F(o.pages,g=>(c(),f(te,{key:`c/${s.book.pk}/${g}`,class:"windowItem",disabled:"",eager:g>=n.activePage-1&&g<=n.activePage+2,"model-value":g,transition:!0},{default:i(()=>[a(u,{book:s.book,settings:e.settings,"fit-to-class":o.fitToClass,page:g},null,8,["book","settings","fit-to-class","page"]),o.secondPage?(c(),f(u,{key:0,book:s.book,settings:e.settings,"fit-to-class":o.fitToClass,page:g+1},null,8,["book","settings","fit-to-class","page"])):B("",!0)]),_:2},1032,["eager","model-value"]))),128))]),_:1},8,["model-value"])}const G=h(Nt,[["render",Ft]]);const Gt={name:"BookChangeActivator",props:{direction:{type:String,required:!0}},computed:{...C(p,["prevBookChangeShow","nextBookChangeShow"]),show(){return this[this.direction+"BookChangeShow"]}},methods:{...b(p,["setBookChangeFlag"])}};function Ut(e,t,s,d,n,o){return o.show?(c(),m("div",{key:0,class:R(["bookChangeColumn",{[s.direction]:!0}]),onClick:t[0]||(t[0]=O(r=>e.setBookChangeFlag(s.direction),["stop"]))},null,2)):B("",!0)}const me=h(Gt,[["render",Ut],["__scopeId","data-v-46fb01d6"]]);const qt={name:"BooksWindow",components:{BookChangeActivator:me,PagesWindow:G},emits:["click"],computed:{...S(p,{books:e=>e.books,bookChange:e=>e.bookChange,activeBookPk:e=>e.pk,bookRoutes:e=>e.routes.books})},watch:{$route(e,t){(!t||!t.params||+e.params.pk!=+t.params.pk)&&this.loadBooks(e.params)}},beforeMount(){this.setBookChangeFlag()},created(){this.loadBooks(this.$route.params)},methods:{...b(p,["setBookChangeFlag","loadBooks"]),click(){this.setBookChangeFlag(),this.$emit("click")},eager(e){return this.bookChange&&this.bookRoutes[this.bookChange]&&this.bookRoutes[this.bookChange].pk===e}}};function Mt(e,t,s,d,n,o){const r=me,u=G;return c(),f(oe,{id:"booksWindow",direction:"vertical","model-value":e.activeBookPk,"show-arrows":"",onClick:o.click},{prev:i(()=>[a(r,{direction:"prev"})]),next:i(()=>[a(r,{direction:"next"})]),default:i(()=>[(c(!0),m($,null,F(e.books,([g,y])=>(c(),f(te,{key:`c/${g}`,class:"windowItem",disabled:"",eager:o.eager(g),value:g,transition:!0},{default:i(()=>[a(u,{book:y,onClick:o.click},null,8,["book","onClick"])]),_:2},1032,["eager","value"]))),128))]),_:1},8,["model-value","onClick"])}const Wt=h(qt,[["render",Mt],["__scopeId","data-v-7094d475"]]);const Z="prev",Q="next",Kt={name:"ReaderTitleToolbar",components:{MetadataDialog:de,SettingsDrawerButton:Ie},data(){return{mdiClose:De,routeChanged:!1}},head(){const e=this.$route.params.page;return{meta:[{hid:"description",name:"description",content:`reader ${this.activeTitle} page ${e}`}]}},computed:{...C(p,["activeTitle","activeBook"]),...S(p,{seriesPosition:function(e){return this.activeBook&&e.seriesCount>1?`${this.activeBook.seriesIndex}/${e.seriesCount}`:""}}),...S(Ve,{lastRoute:e=>e.page.routes.last}),...xe(I,["isSettingsDrawerOpen"]),closeBookRoute:function(){const e={name:"browser",params:this.lastRoute};return e.params?e.hash=`#card-${this.$route.params.pk}`:e.params=window.CODEX.LAST_ROUTE||Le.browser.route,e}},watch:{$route(e,t){t&&(this.routeChanged=!0)}},mounted(){document.addEventListener("keyup",this._keyListener)},unmounted:function(){document.removeEventListener("keyup",this._keyListener)},methods:{...b(I,["setTimestamp"]),...b(p,["routeToDirection"]),openMetadata(){this.$refs.metadataDialog.dialog=!0},onCloseBook(){this.routeChanged&&this.setTimestamp()},_keyListener(e){switch(e.stopPropagation(),e.key){case" ":!e.shiftKey&&window.innerHeight+window.scrollY+1>=document.body.scrollHeight?this.routeToDirection(Q):e.shiftKey&&window.scrollY===0&&this.routeToDirection(Z);break;case"j":case"ArrowRight":this.routeToDirection(Q);break;case"k":case"ArrowLeft":this.routeToDirection(Z);break;case"Escape":this.$refs.closeBook.$el.click();break;case"m":this.openMetadata();break}}}},zt={key:0},jt={key:0,id:"seriesPosition",title:"Series Position"};function Ht(e,t,s,d,n,o){const r=de,u=w("SettingsDrawerButton");return c(),f(Ae,{id:"readerTopToolbar",class:"codexToolbar",density:"compact"},{default:i(()=>[a(q,null,{default:i(()=>[a(N,{id:"closeBook",ref:"closeBook",to:o.closeBookRoute,size:"large",onClick:o.onCloseBook},{default:i(()=>[e.$vuetify.display.smAndDown?(c(),f(v,{key:1,title:"Close Book"},{default:i(()=>[_(k(n.mdiClose),1)]),_:1})):(c(),m("span",zt,"close book"))]),_:1},8,["to","onClick"])]),_:1}),a(Ee,{id:"toolbarTitle",class:"codexToolbarTitle"},{default:i(()=>[_(k(e.activeTitle),1)]),_:1}),e.seriesPosition?(c(),m("span",jt,k(e.seriesPosition),1)):B("",!0),a(q,null,{default:i(()=>[a(N,{id:"tagButton",onClick:O(o.openMetadata,["stop"])},{default:i(()=>[a(r,{ref:"metadataDialog",group:"c",pk:Number(e.$route.params.pk)},null,8,["pk"])]),_:1},8,["onClick"]),a(u,{id:"settingsButton",onClick:t[0]||(t[0]=O(g=>e.isSettingsDrawerOpen=!0,["stop"]))})]),_:1})]),_:1})}const he=h(Kt,[["render",Ht],["__scopeId","data-v-a3935203"]]);const Yt={name:"BookChangeDrawer",props:{direction:{type:String,required:!0}},head(){return ge([this.prefetchSrc1,this.prefetchSrc2])},computed:{...C(p,["prevBookChangeShow","nextBookChangeShow"]),...S(p,{prefetchSrc2(e){const t=e.books.get(this.params.pk),s=t?t.settings||{}:{},d=this.getSettings(e.readerSettings,s);if(!this.isDrawerOpen||!this.params||!d.twoPages)return!1;const n={pk:this.params.pk,page:this.params.page+1};return T(n)},isDrawerOpen(e){return e.bookChange===this.direction},params(e){return e.routes.books[this.direction]},icon(){return this.direction==="next"?Oe:Ne}}),show(){return this[this.direction+"BookChangeShow"]},prefetchSrc1(){return!this.isDrawerOpen||!this.params?!1:T(this.params)},route(){return this.params?{params:this.params}:{}},label(){return`${this.direction==="prev"?"Previous":"Next"} Book`}},methods:{...b(p,["getSettings"])}};function Xt(e,t,s,d,n,o){const r=w("router-link");return o.show?(c(),f(Fe,{key:0,class:R({bookChangeDrawer:!0,[s.direction]:!0}),"disable-resize-watcher":"","disable-route-watcher":"",location:s.direction==="prev"?"left":"right","model-value":e.isDrawerOpen,scrim:!1,temporary:"",touchless:""},{default:i(()=>[a(r,{class:"navLink",to:o.route,"aria-label":o.label,title:o.label,onClick:t[0]||(t[0]=u=>u.stopImmediatePropagation())},{default:i(()=>[a(v,{class:"bookChangeIcon"},{default:i(()=>[_(k(e.icon),1)]),_:1})]),_:1},8,["to","aria-label","title"])]),_:1},8,["class","location","model-value"])):B("",!0)}const fe=h(Yt,[["render",Xt],["__scopeId","data-v-2d084a57"]]),Zt={name:"DownloadPanel",data(){return{mdiDownload:Ge,mdiFileImage:Ue}},computed:{...C(p,["activeTitle"]),pageSrc:function(){return T(this.$route.params)},downloadURL:function(){return qe(this.$route.params.pk)},fileName:function(){return this.activeTitle+".cbz"},pageName:function(){const e=this.$route.params.page;return`${this.activeTitle} - page ${e}.jpg`}},methods:{...b(I,["downloadIOSPWAFix"]),downloadPage(){this.downloadIOSPWAFix(this.pageSrc,this.pageName)},downloadBook(){this.downloadIOSPWAFix(this.downloadURL,this.fileName)}}};function Qt(e,t,s,d,n,o){return c(),m($,null,[a(W,{onClick:o.downloadPage},{default:i(()=>[a(M,null,{default:i(()=>[a(v,null,{default:i(()=>[_(k(n.mdiFileImage),1)]),_:1}),_(" Download Page "+k(e.$route.params.page),1)]),_:1})]),_:1},8,["onClick"]),a(W,{onClick:o.downloadBook},{default:i(()=>[a(M,null,{default:i(()=>[a(v,null,{default:i(()=>[_(k(n.mdiDownload),1)]),_:1}),_(" Download Book ")]),_:1})]),_:1},8,["onClick"])],64)}const ke=h(Zt,[["render",Qt]]);const A=ae()({name:"VRadio",props:{...Me({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(e,t){let{slots:s}=t;return se(()=>a(We,D(e,{class:"v-radio",type:"radio"}),s)),{}}});const J=ae()({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...Ke(),...ze(je(),["multiple"]),trueIcon:{type:K,default:"$radioOn"},falseIcon:{type:K,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:s,slots:d}=t;const n=He(),o=Ye(()=>e.id||`radio-group-${n}`),r=Xe(e,"modelValue");return se(()=>{const[u,g]=Ze(s),[y,U]=Qe(e),[V,$o]=Je({...e,multiple:!1}),x=d.label?d.label({label:e.label,props:{for:o.value}}):e.label;return a(ot,D({class:"v-radio-group"},u,y,{modelValue:r.value,"onUpdate:modelValue":L=>r.value=L,id:o.value}),{...d,default:L=>{let{id:E,messagesId:ve,isDisabled:Pe,isReadonly:we}=L;return a($,null,[x&&a(et,{id:E.value},{default:()=>[x]}),a(tt,D(V,{id:E.value,"aria-describedby":ve.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:Pe.value,readonly:we.value,"aria-labelledby":x?E.value:void 0},g,{modelValue:r.value,"onUpdate:modelValue":Se=>r.value=Se}),d)])}})}),{}}}),Jt=["fitTo","twoPages"],eo={name:"ReaderSettingsPanel",data(){return{isGlobalScope:!1}},computed:{...S(p,{fitToChoices(e){const t=[];for(const s of e.choices.fitTo)s.value&&t.push(s);return t},selectedSettings:function(e){return this.isGlobalScope||!e.activeBook?e.readerSettings:e.activeBook.settings},isClearSettingsButtonDisabled:function(e){if(this.isGlobalScope||!e.activeBook)return!0;for(const t of Jt){const s=e.activeBook.settings[t];if(!e.choices.nullValues.has(s))return!1}return!0}})},mounted(){document.addEventListener("keyup",this._keyListener)},unmounted:function(){document.removeEventListener("keyup",this._keyListener)},methods:{...b(p,["clearSettingsLocal","setSettingsGlobal","setSettingsLocal"]),settingsDialogChanged:function(e){this.isGlobalScope?this.setSettingsGlobal(this.$route.params,e):this.setSettingsLocal(this.$route.params,e)},_keyListener:function(e){e.stopPropagation();let t;switch(e.key){case"w":t={fitTo:"WIDTH"};break;case"h":t={fitTo:"HEIGHT"};break;case"s":t={fitTo:"SCREEN"};break;case"o":t={fitTo:"ORIG"};break;case"2":t={twoPages:!this.selectedSettings.twoPages};break}t&&this.setSettingsLocal(this.$route.params,t)}}},to={id:"readerSettings"};function oo(e,t,s,d,n,o){return c(),m("div",to,[a(J,{modelValue:n.isGlobalScope,"onUpdate:modelValue":t[0]||(t[0]=r=>n.isGlobalScope=r),density:"compact",label:"Scope"},{default:i(()=>[a(A,{label:"Only this comic",value:!1}),a(A,{label:"Default for all comics",value:!0})]),_:1},8,["modelValue"]),a(J,{class:"displayRadioGroup",density:"compact",label:"Display","model-value":e.selectedSettings.fitTo,"onUpdate:modelValue":t[1]||(t[1]=r=>o.settingsDialogChanged({fitTo:r}))},{default:i(()=>[(c(!0),m($,null,F(e.fitToChoices,r=>(c(),f(A,{key:r.value,label:r.title,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["model-value"]),a(at,{class:"displayTwoPages",density:"compact",label:"Two pages","model-value":e.selectedSettings.twoPages,"true-value":!0,indeterminate:e.selectedSettings.twoPages===null||e.selectedSettings.twoPages===void 0,"onUpdate:modelValue":t[2]||(t[2]=r=>o.settingsDialogChanged({twoPages:r}))},null,8,["model-value","indeterminate"]),a(N,{id:"clearSettingsButton",class:R({invisible:n.isGlobalScope}),disabled:e.isClearSettingsButtonDisabled,title:"Use the default settings for all comics for this comic",onClick:t[3]||(t[3]=r=>e.clearSettingsLocal(e.$route.params))},{default:i(()=>[_(" Clear Comic Settings ")]),_:1},8,["class","disabled"])])}const be=h(eo,[["render",oo],["__scopeId","data-v-eba773e3"]]);const ao={name:"KeyboardShortcutsPanel",data(){return{mdiMenuLeft:st,mdiMenuRight:nt,mdiKeyboardSpace:rt,mdiAppleKeyboardShift:it}},computed:{...C(I,["isMobile"])}},P=e=>(lt("data-v-ac362d8d"),e=e(),ct(),e),so={key:0,id:"readerKeyboardShortcutsDialog"},no=P(()=>l("h3",null,"Keyboard Shortcuts",-1)),ro={id:"readerKeyboardShortcutsTable",class:"highlight-table"},io=P(()=>l("td",null,"Previous page",-1)),lo=P(()=>l("td",null,"Next page",-1)),co=P(()=>l("tr",null,[l("td",null,"h"),l("td",null,"Fit page to screen height")],-1)),uo=P(()=>l("tr",null,[l("td",null,"w"),l("td",null,"Fit page to screen width")],-1)),po=P(()=>l("tr",null,[l("td",null,"s"),l("td",null,"Fit page to screen")],-1)),go=P(()=>l("tr",null,[l("td",null,"o"),l("td",null,"Show page at original size")],-1)),_o=P(()=>l("tr",null,[l("td",null,"2"),l("td",null,"Toggle two page view")],-1)),mo=P(()=>l("tr",null,[l("td",null,"m"),l("td",null,"Show comic's metadata")],-1)),ho=P(()=>l("tr",null,[l("td",null,"esc"),l("td",null,"Close book")],-1));function fo(e,t,s,d,n,o){return e.isMobile?B("",!0):(c(),m("div",so,[no,l("table",ro,[l("tbody",null,[l("tr",null,[l("td",null,[a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiMenuLeft),1)]),_:1}),_(", j, "),l("div",null,[a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiAppleKeyboardShift),1)]),_:1}),a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiKeyboardSpace),1)]),_:1})])]),io]),l("tr",null,[l("td",null,[a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiMenuRight),1)]),_:1}),_(", k, "),a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiKeyboardSpace),1)]),_:1})]),lo]),co,uo,po,go,_o,mo,ho])])]))}const ko=h(ao,[["render",fo],["__scopeId","data-v-ac362d8d"]]),bo={name:"ReaderSettingsSuperPanel",components:{DownloadPanel:ke,ReaderKeyboardShortcutsPanel:ko,ReaderSettingsPanel:be}};function vo(e,t,s,d,n,o){const r=be,u=w("ReaderKeyboardShortcutsPanel"),g=ke;return c(),m($,null,[a(r),a(z),a(u),a(z),a(g)],64)}const Po=h(bo,[["render",vo]]);const wo={name:"MainReader",components:{BookChangeDrawer:fe,BooksWindow:G,ReaderNavToolbar:pe,ReaderTitleToolbar:he,SettingsDrawer:ne},data(){return{showToolbars:!1,ReaderSettingsSuperPanel:ee(Po)}},computed:{...C(j,["isCodexViewable"]),...S(j,{user:e=>e.user})},watch:{user(){this.loadReaderSettings()},isCodexViewable(){this.loadReaderSettings()}},created(){I().isSettingsDrawerOpen=!1,this.loadReaderSettings()},methods:{...b(p,["loadReaderSettings"]),toggleToolbars(){this.showToolbars=!this.showToolbars}}},So={key:0,id:"readerContainer"},yo={key:1,id:"announcement"};function Co(e,t,s,d,n,o){const r=fe,u=he,g=Wt,y=pe,U=w("router-link"),V=ne;return c(),m($,null,[a(dt,{id:"readerWrapper"},{default:i(()=>[a(r,{direction:"prev"}),e.isCodexViewable?(c(),m("div",So,[a(ut,null,{default:i(()=>[H(a(u,null,null,512),[[Y,n.showToolbars]])]),_:1}),a(g,{onClick:o.toggleToolbars},null,8,["onClick"]),a(pt,null,{default:i(()=>[H(a(y,null,null,512),[[Y,n.showToolbars]])]),_:1})])):(c(),m("div",yo,[l("h1",null,[a(U,{to:{name:"home"}},{default:i(()=>[_(" Log in ")]),_:1}),_(" to read comics ")])]))]),_:1}),a(r,{direction:"next"}),a(V,{title:"Reader Settings",panel:n.ReaderSettingsSuperPanel,temporary:""},null,8,["panel"])],64)}const Ro=h(wo,[["render",Co],["__scopeId","data-v-dbbc534a"]]);export{Ro as default};
