"use strict";(self.webpackChunkjp_noui=self.webpackChunkjp_noui||[]).push([[568],{568:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(510),a=n(923),i=n(526),s=n(767),d=n(535),c=n(886);const u=document.body;u.dataset.nouiState="loading";const r=document.createElement("button");r.id="jp-noui-exit-btn";const l={id:"jp-noui:plugin",autoStart:!0,requires:[d.IFileBrowserCommands,s.INotebookTracker],provides:o.ISplashScreen,activate:(e,t,n)=>{console.log("JupyterLab extension jp-noui is activated!"),u.dataset.nouiState="activating";const o=c.PageConfig.getOption("noui_notebook"),s=new i.PromiseDelegate,d=new Set;function l(t,n){n&&!d.has(n.context.path)&&(d.add(n.context.path),console.log(`noui: Running Notebook "${n.context.path}"`),u.dataset.nouiState="open",n.sessionContext.ready.then((async()=>{u.dataset.nouiState="running",await e.commands.execute("notebook:run-all-cells"),u.dataset.nouiState="ready"})))}function p(t,n){n&&o.endsWith(n.context.path)&&!d.has(n.context.path)&&(d.add(n.context.path),console.log(`noui: Running Initial Notebook "${n.context.path}"`),u.dataset.nouiState="open",n.sessionContext.ready.then((async()=>{u.dataset.nouiState="running",await e.commands.execute("notebook:run-all-cells"),u.dataset.nouiState="ready",s.resolve(void 0)})))}return r.addEventListener("click",(e=>{var t;console.log("noui: Exited noui mode... Deactivating autorun"),document.body.removeChild(r),null===(t=document.getElementById("jp-noui-style"))||void 0===t||t.remove(),n.currentChanged.disconnect(l),document.body.style.zoom="0.999",window.dispatchEvent(new Event("resize")),setTimeout((()=>{document.body.style.zoom="1",window.dispatchEvent(new Event("resize"))}),500)})),o.length>0?(e.commands.execute("filebrowser:open-path",{path:o}),n.currentChanged.connect(p),document.body.appendChild(r),{show:()=>new a.DisposableDelegate((async()=>{await s.promise,n.currentChanged.disconnect(p),n.currentChanged.connect(l)}))}):(console.log("noui: No Notebook provided. Exiting to JupyterLab"),{show:()=>new a.DisposableDelegate((()=>{var e;null===(e=document.getElementById("jp-noui-style"))||void 0===e||e.remove(),u.dataset.nouiState="ready"}))})}}}}]);