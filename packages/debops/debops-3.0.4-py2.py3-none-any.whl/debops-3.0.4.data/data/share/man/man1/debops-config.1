.\" Man page generated from reStructuredText.
.
.TH "DEBOPS-CONFIG" "1" "Mar 09, 2023" "v3.0.4" "DebOps"
.SH NAME
debops-config \- Inspect or manipulate DebOps project configuration
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBdebops config\fP [\-h|\-\-help] [\-\-project\-dir <project_dir>] [\-\-env] [\-\-format json|toml]
.SH DESCRIPTION
.sp
The \fBdebops config\fP command provides access to DebOps configuration
system. At present it can only be used to inspect the configuration options, in
the future it will allow modification of them as well.
.SH DEBOPS CONFIG
.sp
Display the configuration information about a DebOps project. Configuration is
gathered from multiple places and merged together. The default display format
is TOML and can be changed to JSON to allow parsing.
.SS Options
.INDENT 0.0
.TP
.B \fB\-h, \-\-help\fP
Display the help and usage information
.TP
.B \fB\-\-project\-dir <project_dir>\fP
Path to the project directory to work on. If it\(aqs not specified, the script
will use the current directory.
.TP
.B \fB\-\-env\fP
Display the current environment variables which will be used by DebOps and
passed to Ansible during its execution. This can be used to check if the
environment variables configured in various files are correctly initialized.
.TP
.B \fB\-\-format json|toml\fP
Specify the format of the output. The default format is TOML which is
considered human\-friendly. The JSON format can be used to enable easy parsing
by programs.
.UNINDENT
.SS Examples
.sp
Use \fBjq\fP command to parse the DebOps configuration and extract path to
the Ansible inventory:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
debops config \-\-format json | jq .views.system.ansible.defaults.inventory
.ft P
.fi
.UNINDENT
.UNINDENT
.SH CONFIGURATION FILES
.sp
DebOps uses multiple levels of configuration files that are merged together in
order of appearance:
.INDENT 0.0
.IP \(bu 2
\fBdefaults.toml\fP (built\-in default configuration)
.IP \(bu 2
\fB/usr/lib/debops/conf.d/\fP (configuration included by OS distribution
maintainers)
.IP \(bu 2
\fB/usr/local/lib/debops/conf.d/\fP (configuration included by Python
package maintainers)
.IP \(bu 2
\fB/etc/debops/conf.d/\fP (configuration defined by local system
administrators)
.IP \(bu 2
\fB$XDG_CONFIG_HOME/debops/conf.d/\fP (per\-user configuration)
.IP \(bu 2
\fB<project directory>/.debops.cfg\fP (per\-project configuration file,
legacy)
.IP \(bu 2
\fB<project directory>/.debops/conf.d/\fP (per\-project configuration
directory)
.UNINDENT
.sp
Configuration directories can contain YAML, TOML and JSON configuration files;
format is detected via the file extension (respectively \fB\&.yml\fP or
\fB\&.yaml\fP, \fB\&.toml\fP or \fB\&.json\fP). You can find more details about
the contents of the configuration files and overall configuration structure in
the \fI\%debops config\fP command documentation.
.SH ENVIRONMENT FILES
.sp
DebOps scripts support multiple configuration files which can be used to affect
its execution environment:
.INDENT 0.0
.IP \(bu 2
\fB/etc/default/debops\fP (per\-system environment)
.IP \(bu 2
\fB$XDG_CONFIG_HOME/debops/environment\fP (per\-user environment)
.IP \(bu 2
\fB<project directory>/.env\fP (per\-project environment)
.UNINDENT
.sp
You can use these files to store environment variables which are then added to
the \fBansible\-playbook\fP environment during playbook execution.
.sp
Each environment variable is specified as:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
NAME=value
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Empty lines and lines starting with the \fB#\fP character are ignored.
.SH AUTHOR
Maciej Delmanowski, Nick Janetakis, Robin Schneider and others
.SH COPYRIGHT
2014-2022, Maciej Delmanowski, Nick Janetakis, Robin Schneider and others
.\" Generated by docutils manpage writer.
.
