"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[915],{44198:function(n,e,t){t.d(e,{q:function(){return d}});var r=t(19065),o=t(95764),i=t(16798),a=t(90428),u=t.n(a),s=t(41332),l=t.n(s),c=t(325),f=t(27601),p={};function d(n){var e=n.queryKey,t=n.defaults,a=n.encode,s=n.decode;e&&(a||(a=function(n){return(0,i.Z)({},e,n)}),s||(s=function(n){return v(n[e])}));var d=(0,f.TH)(),g=(0,f.k6)();p=l().parse(d.search,{ignoreQueryPrefix:!0});var x=(0,o.Z)((0,o.Z)({},t||{}),p),m=s?s(x):function(n){for(var e={},t=0,r=Object.keys(n);t<r.length;t++){var o=r[t];e[o]=v(n[o])}return e}(x),h=c.useRef(m),y=c.useCallback((function(e){for(var t=(0,o.Z)((0,o.Z)({},p),a?a(e):e),i=0,u=Object.entries(t);i<u.length;i++){var s=(0,r.Z)(u[i],2),c=s[0],f=s[1];n.defaults&&n.defaults[c]===f&&delete t[c]}p=t,g.replace("".concat(d.pathname,"?").concat(l().stringify(t,{arrayFormat:"brackets"})))}),[g,a,d.pathname,n]);return u()(h.current,m)||(h.current=m),[h.current,y]}function v(n){return"false"!==n&&("true"===n||n)}},62e3:function(n,e,t){t.d(e,{h:function(){return c}});var r=t(32030),o=t(60810),i=t(7838),a=(t(325),t(74549)),u=t(25582),s=t(96294),l=t(32289),c=function(n){var e=n.pipelineName,t=n.pipelineHrefContext,c=n.isJob,f=n.snapshotId,p=n.showIcon,d=n.truncationThreshold,v=void 0===d?40:d,g=n.size,x=void 0===g?"normal":g,m=v>0&&e.length>v?"".concat(e.slice(0,v-5),"\u2026"):e,h="repo-unknown"===t?(0,l.jsx)(a.rU,{to:(0,u.r4)(e,c),children:m}):"no-link"===t?(0,l.jsx)(l.Fragment,{children:m}):(0,l.jsx)(a.rU,{to:(0,u.jT)({repoName:t.name,repoLocation:t.location,pipelineName:e,isJob:c}),children:m});return(0,l.jsxs)(r.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex"},children:[p&&(0,l.jsx)(r.x,{margin:{right:8},children:(0,l.jsx)(o.JO,{color:i.w.Gray400,name:"job"})}),(0,l.jsxs)("span",{children:[h,f&&" @ ",f&&(0,l.jsx)(s.J2,{snapshotId:f,pipelineName:e,size:x})]})]})}},34653:function(n,e,t){t.d(e,{sy:function(){return o},Ys:function(){return i},_m:function(){return a},hd:function(){return u},cv:function(){return s},oV:function(){return l}});var r=t(69305),o=new Set([r.VO.QUEUED]),i=new Set([r.VO.STARTED,r.VO.STARTING,r.VO.CANCELING]),a=new Set([r.VO.SUCCESS]),u=new Set([r.VO.FAILURE,r.VO.CANCELED]),s=(new Set([r.VO.CANCELING,r.VO.CANCELED]),new Set([r.VO.FAILURE,r.VO.SUCCESS,r.VO.CANCELED])),l=new Set([r.VO.QUEUED,r.VO.STARTED])},45302:function(n,e,t){t.d(e,{oD:function(){return y},it:function(){return k},VH:function(){return w},nr:function(){return b}});var r,o,i=t(99500),a=t(19065),u=t(47427),s=t(65880),l=t(3159),c=t(57615),f=t(41332),p=t.n(f),d=t(325),v=t(69305),g=t(44198),x=t(76336),m=t(32289),h=[{token:"id",values:function(){return[]}},{token:"status",values:function(){return[]}},{token:"pipeline",values:function(){return[]}},{token:"job",values:function(){return[]}},{token:"tag",values:function(){return[]}},{token:"snapshotId",values:function(){return[]}}];function y(n){return(0,g.q)(d.useMemo((function(){return{encode:function(n){return{q:(0,c.cJ)(n),cursor:void 0}},decode:function(e){var t=e.q,r=void 0===t?[]:t;return(0,c.TC)(r,h).filter((function(e){return!e.token||!n||n.includes(e.token)}))}}}),[n]))}function k(n){return"/runs?".concat(p().stringify({q:(0,c.cJ)(n)},{arrayFormat:"brackets"}))}function w(n){if(!n[0])return{};var e,t={},r=(0,u.Z)(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;if("pipeline"===o.token||"job"===o.token)t.pipelineName=o.value;else if("id"===o.token)t.runIds=t.runIds||[],t.runIds.push(o.value);else if("status"===o.token)t.statuses=t.statuses||[],t.statuses.push(o.value);else if("snapshotId"===o.token)t.snapshotId=o.value;else if("tag"===o.token){var i=o.value.split("="),s=(0,a.Z)(i,2),l=s[0],c=s[1],f=void 0===c?"":c;t.tags?t.tags.push({key:l,value:f}):t.tags=[{key:l,value:f}]}}}catch(p){r.e(p)}finally{r.f()}return t}var b=function(n){var e,t,r=n.loading,o=n.tokens,i=n.onChange,l=n.enabledFilters,f=(0,x.vl)().options,p=d.useState(),g=(0,a.Z)(p,2),h=g[0],y=g[1],k=(0,s.t)(T),w=(0,a.Z)(k,2),b=w[0],C=w[1].data,E=(0,s.t)(j,{variables:{tagKeys:h?[h]:[]}}),O=(0,a.Z)(E,2),Z=O[0],S=O[1].data;d.useEffect((function(){h&&Z()}),[h,Z]);var I=function(n,e,t,r,o){var i,a=new Set,s=new Set,l=(0,u.Z)(n);try{for(l.s();!(i=l.n()).done;){var c,f=i.value.repository,p=(0,u.Z)(f.pipelines);try{for(p.s();!(c=p.n()).done;){var d=c.value;d.isJob?s.add(d.name):a.add(d.name)}}catch(x){p.e(x)}finally{p.f()}}}catch(x){l.e(x)}finally{l.f()}var g=[{token:"id",values:function(){return[]}},{token:"status",values:function(){return Object.keys(v.VO)}},{token:"pipeline",values:function(){return Array.from(a)}},{token:"job",values:function(){return Array.from(s)}},{token:"tag",values:function(){return t?(r||[]).filter((function(n){return n.key===t})).map((function(n){return n.values.map((function(n){return"".concat(t,"=").concat(n)}))})).flat():(e||[]).map((function(n){return"".concat(n)}))},textOnly:!t},{token:"snapshotId",values:function(){return[]}}];return o?g.filter((function(n){return o.includes(n.token)})):g}(f,"RunTagKeys"===(null===C||void 0===C||null===(e=C.runTagKeysOrError)||void 0===e?void 0:e.__typename)?C.runTagKeysOrError.keys:[],h,"RunTags"===(null===S||void 0===S||null===(t=S.runTagsOrError)||void 0===t?void 0:t.__typename)?S.runTagsOrError.tags:[],l),_=(0,c.TC)((0,c.cJ)(o),I),D=d.useCallback((function(){return b()}),[b]);return(0,m.jsx)(c.Gf,{values:_,onChange:function(n){return i(n)},onFocus:D,onTextChange:function(n){var e;if(n.startsWith("tag:")){var t=n.slice(4);"RunTagKeys"===(null===C||void 0===C||null===(e=C.runTagKeysOrError)||void 0===e?void 0:e.__typename)&&C.runTagKeysOrError.keys.includes(t)&&y(t)}},suggestionProviders:I,suggestionProvidersFilter:function(n,e){var t,r=[],o=(0,u.Z)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value.token;i&&r.push(i)}}catch(l){o.e(l)}finally{o.f()}if(r.includes("id"))return[];var a=new Set(["id","job","pipeline","snapshotId"]),s=r.filter((function(n){return a.has(n)}));return n.filter((function(n){return!n.token||!s.includes(n.token)}))},loading:r})},T=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query RunTagKeysQuery {\n    runTagKeysOrError {\n      ... on RunTagKeys {\n        keys\n      }\n    }\n  }\n"]))),j=(0,l.Ps)(o||(o=(0,i.Z)(["\n  query RunTagValuesQuery($tagKeys: [String!]!) {\n    runTagsOrError(tagKeys: $tagKeys) {\n      __typename\n      ... on RunTags {\n        tags {\n          key\n          values\n        }\n      }\n    }\n  }\n"])))},68156:function(n,e,t){t.d(e,{v:function(){return d}});var r=t(19065),o=t(922),i=t(60810),a=t(7838),u=t(11831),s=t(325),l=t(70674),c=t(37971),f=t(59180),p=t(32289),d=function(n){var e=n.timestamp,t=n.timezone,o=n.timeFormat,u=n.tooltipTimeFormat,l=s.useContext(c.jA),d=(0,r.Z)(l,1)[0],x=navigator.language,m=(0,f.j)({timestamp:{unix:e},locale:x,timezone:t||d,timeFormat:o});return(0,p.jsxs)("span",{children:[(0,p.jsx)(v,{style:{minWidth:0},title:m,children:m}),t&&t!==d?(0,p.jsx)(g,{placement:"top",content:(0,p.jsx)(v,{children:(0,f.j)({timestamp:{unix:e},locale:x,timezone:d,timeFormat:u})}),children:(0,p.jsx)(i.JO,{name:"schedule",color:a.w.Gray400,size:12})}):null]})};d.defaultProps={timeFormat:l._,tooltipTimeFormat:{showSeconds:!1,showTimezone:!0}};var v=o.ZP.span.withConfig({displayName:"TimestampDisplay__TabularNums",componentId:"sc-17rznt9-0"})(["font-variant-numeric:tabular-nums;"]),g=(0,o.ZP)(u.u).withConfig({displayName:"TimestampDisplay__TimestampTooltip",componentId:"sc-17rznt9-1"})(["cursor:pointer;position:relative;top:2px;margin-left:4px;"])},89646:function(n,e,t){t.d(e,{t:function(){return l}});t(325);var r=t(32030),o=t(7838),i=t(60810),a=t(34595),u=t(12745),s=t(32289),l=function(n){var e=n.title,t=n.description,l=n.icon,c=n.action,f=n.shrinkable,p=1===[e,t,c].filter(Boolean).length;return(0,s.jsxs)(r.x,{flex:{gap:20,alignItems:p?"center":"flex-start"},background:o.w.Gray50,padding:24,style:{margin:"auto",borderRadius:8,width:f?"initial":"max-content",maxWidth:500},children:["spinner"===l?(0,s.jsx)(a.$,{purpose:"section"}):"no-results"===l?(0,s.jsx)(i.JO,{name:"search",size:48,color:o.w.Gray400}):(0,s.jsx)(i.JO,{name:l,size:48,color:o.w.Gray400}),(0,s.jsxs)(r.x,{flex:{gap:8,direction:"column",alignItems:"flex-start"},children:[e&&(0,s.jsx)(u.pm,{style:{color:o.w.Gray900},children:e}),t&&(0,s.jsx)("div",{style:{color:o.w.Gray500},children:t}),c]})]})}},57615:function(n,e,t){t.d(e,{HE:function(){return x},TC:function(){return m},WD:function(){return h},HY:function(){return y},cJ:function(){return k},jP:function(){return w},Gf:function(){return b}});var r=t(47427),o=t(59019),i=t(19065),a=t(922),u=t(33918),s=t(325),l=t(32030),c=t(7838),f=t(8412),p=t(762),d=t(34595),v=t(32289);function g(n,e){return e.find((function(e){return e.token&&e.token.toLowerCase()===n.toLowerCase()}))}var x=function(n,e){if(""===n)return[];var t=n.split(",");return m(t,e)},m=function(n,e){return n.map((function(n){return h(n,e)}))};function h(n,e){var t=function(n){var e=n.indexOf(":");return-1===e?[n,""]:[n.slice(0,e),n.slice(e+1)]}(n),r=(0,i.Z)(t,2),o=r[0],a=r[1];return g(o,e)&&o&&a?{token:o,value:a}:{value:n}}var y=function(n){return n.token?"".concat(n.token,":").concat(n.value):n.value},k=function(n){return n.filter((function(n){return""!==n.value})).map(y)},w=function(n){return k(n).join(",")},b=function(n){var e,t,a=n.suggestionProviders,u=n.suggestionProvidersFilter,c=n.values,x=n.maxValues,m=n.onChange,y=n.onChangeBeforeCommit,k=n.onFocus,w=n.onTextChange,b=n.placeholder,C=n.addOnBlur,E=n.loading,O=n.className,Z=n.fullwidth,S=n.suggestionRenderer,I=s.useState(!1),_=(0,i.Z)(I,2),D=_[0],V=_[1],F=s.useState(null),G=(0,i.Z)(F,2),N=G[0],P=G[1],R=s.useState(""),K=(0,i.Z)(R,2),A=K[0],z=K[1],J=s.useMemo((function(){return(0,o.Z)(c)}),[c]),L=h(A,a);e=L,(t=J[J.length-1])&&e.token===t.token&&e.value===t.value&&J.pop();var U=void 0!==x&&J.length>=x,M=u?u(a,J):a,q=A.split(":"),W=(q[q.length-1]||"").toLowerCase(),H=s.useMemo((function(){if(U)return[];var n=[],e=function(n,e){return!n||e.text.toLowerCase().split(":").some((function(e){return e.includes(n)}))},t=function(n){var t=n.suggestionFilter||e;return n.values().filter((function(e){return!J.some((function(t){return t.token===n.token&&t.value===e}))})).map((function(e){return{text:null!==n&&void 0!==n&&n.token?"".concat(n.token,":").concat(e):e,final:!n.textOnly}})).filter((function(n){return t(W,n)})).slice(0,100)};if(1===q.length){n=M.reduce((function(n,e){return e.token?[].concat((0,o.Z)(n),[{text:"".concat(e.token,":"),final:!1}]):n}),[]).filter((function(n){return e(W,n)}));var i,a=(0,r.Z)(M);try{for(a.s();!(i=a.n()).done;){var u,s=i.value;if(!s.token||A.length>0)(u=n).push.apply(u,(0,o.Z)(t(s)))}}catch(f){a.e(f)}finally{a.f()}}if(2===q.length){var l=q[0];if(l){var c=g(l,M);n=c?t(c):[]}}return n.sort((function(n,e){return n.text.localeCompare(e.text)})),n}),[U,M,W,q,A.length,J]),$=function(n){z(n),w&&w(n)};s.useEffect((function(){if(N||!H.length){if(N)if(0!==H.length){var n=H.findIndex((function(n){return n.text===N.text})),e=-1!==n?n:N.idx;e=Math.max(0,Math.min(H.length-1,e));var t=H[e];!t||e===N.idx&&t.text===N.text||P({text:t.text,idx:e})}else P(null)}else{var r=H[0];r&&P({text:r.text,idx:0})}}),[N,H]);var B=function(n){U||(n.final?(Q(n.text),$(""),P(null),V(!1)):$(n.text))},Q=function(n){U||n.endsWith(":")||""!==n&&($(""),m([].concat((0,o.Z)(J),[h(n,M)])))},Y=s.createRef();s.useEffect((function(){if(Y.current&&N){var n=Y.current.querySelector("[data-idx='".concat(N.idx,"']"));n&&n instanceof HTMLElement&&"scrollIntoView"in n&&n.scrollIntoView({block:"nearest"})}}),[Y,N]);var X=S||function(n){return n.text};return(0,v.jsx)(p.J,{isOpen:D&&H.length>0&&!U,position:"bottom-left",content:H.length>0?(0,v.jsx)("div",{style:{maxHeight:235,overflowY:"scroll"},ref:Y,children:(0,v.jsx)(j,{children:H.map((function(n,e){return(0,v.jsx)(f.sN,{"data-idx":e,text:X(n),shouldDismissPopover:!1,active:(null===N||void 0===N?void 0:N.idx)===e,onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),B(n),P(null)}},n.text)}))})}):(0,v.jsx)("div",{}),children:(0,v.jsx)(T,{className:O,values:J.map((function(n){return n.token?"".concat(n.token,":").concat(n.value):n.value})),inputValue:A,onRemove:function(n,e){var t=(0,o.Z)(J);t.splice(e,1),m(t)},onInputChange:function(n){if($(n.currentTarget.value),y){var e=h(n.currentTarget.value,M);m([].concat((0,o.Z)(J),[e]))}},inputProps:{onFocus:function(){V(!0),k&&k()},onBlur:function(){C&&Q(A),V(!1)}},$maxWidth:Z?"100%":void 0,onAdd:function(){return!1},onKeyDown:function(n){if(U&&"Delete"!==n.key&&"Backspace"!==n.key)return n.preventDefault(),void n.stopPropagation();if("Enter"!==n.key&&"Return"!==n.key&&"Tab"!==n.key){if(" "===n.key)return n.preventDefault(),void Q(A);if("Escape"===n.key)return P(null),void V(!1);D||"Delete"===n.key||"Backspace"===n.key||V(!0);var e={ArrowDown:1,ArrowUp:-1}[n.key];if(e&&H.length>0){n.preventDefault();var t=(N?N.idx:-1)+e;t=Math.max(0,Math.min(t,H.length-1));var r=H[t];r&&P({text:r.text,idx:t})}}else if(N){var o=H.find((function(n){return n.text===N.text}));if(!o)throw new Error("Selection out of sync with suggestions");B(o),n.preventDefault(),n.stopPropagation()}else A.length&&(Q(A),n.preventDefault(),n.stopPropagation())},tagProps:{minimal:!0},placeholder:b||"Filter\u2026",rightElement:E&&D?(0,v.jsx)(l.x,{style:{alignSelf:"center"},margin:{right:4},children:(0,v.jsx)(d.$,{purpose:"body-text"})}):void 0})})},T=(0,a.ZP)(u.EG).withConfig({displayName:"TokenizingField__StyledTagInput",componentId:"sc-1ah04ip-0"})(["border:none;border-radius:8px;box-shadow:"," inset 0px 0px 0px 1px,"," inset 2px 2px 1.5px;min-width:400px;max-width:",";transition:box-shadow 150ms;&.bp3-active{box-shadow:"," inset 0px 0px 0px 1px,"," inset 2px 2px 1.5px,rgba(58,151,212,0.6) 0 0 0 3px;}input{font-size:14px;font-weight:400;padding-left:4px;padding-bottom:2px;padding-top:2px;}&& .bp3-tag-input-values:first-child .bp3-input-ghost:first-child{padding-left:8px;}&& .bp3-tag-input-values{margin-right:4px;margin-top:4px;}&& .bp3-tag-input-values > *{margin-bottom:4px;}.bp3-tag{border-radius:6px;display:inline-flex;flex-direction:row;font-size:12px;line-height:16px;align-items:center;max-width:400px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:4px 8px;user-select:none;}.bp3-tag.bp3-minimal:not([class*='bp3-intent-']){background-color:",";color:",";}.bp3-tag.bp3-minimal.bp3-intent-success{background-color:",";color:",";}.bp3-tag.bp3-minimal.bp3-intent-warning{background-color:",";color:",";}.bp3-tag.bp3-minimal.bp3-intent-danger{background-color:",";color:",";}"],c.w.Gray300,c.w.KeylineGray,(function(n){return n.$maxWidth?n.$maxWidth:"600px"}),c.w.Gray300,c.w.KeylineGray,c.w.Gray100,c.w.Gray900,c.w.Green50,c.w.Green700,c.w.Yellow50,c.w.Yellow700,c.w.Red50,c.w.Red700),j=(0,a.ZP)(f.v2).withConfig({displayName:"TokenizingField__StyledMenu",componentId:"sc-1ah04ip-1"})(["width:400px;"])}}]);
//# sourceMappingURL=915.5ab696b2.chunk.js.map