[build-system]
requires = ["setuptools>=61", "wheel>=0.37.1", "scikit-build", "cmake", "ninja", "setuptools_scm[toml]<=7.0"]

[tool.cibuildwheel]
# Only build on CPython 3.10
build = "cp310-*"
skip = "pp*"

[tool.cibuildwheel.linux]
manylinux-x86_64-image = "manylinux_2_24"
manylinux-i686-image = "manylinux_2_24"
manylinux-aarch64-image = "manylinux_2_24"
before-all = [
    "apt-get update",
    "apt-get install -y libusb-1.0-0-dev"
]

[[tool.cibuildwheel.overrides]]
select = "*-musllinux*"
before-all = "apk add libusb-dev"
