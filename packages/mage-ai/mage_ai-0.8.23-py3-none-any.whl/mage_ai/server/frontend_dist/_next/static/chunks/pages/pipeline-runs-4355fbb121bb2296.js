(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{1210:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(82394),o=t(21831),i=t(82684),c=t(47999),l=t(28358),u=t(93461),a=t(57384),s=t(19767),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var h=i.forwardRef(p),v=t(32063),b=t(15270),m=t(82531),g=t(66166),w=t(3055),j=t(49125),x=t(91427),y=t(24141);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var P=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,O=e.afterWidthOverride,P=e.before,k=e.beforeWidth,C=e.breadcrumbs,_=e.children,E=e.errors,I=e.headerMenuItems,S=e.navigationItems,B=e.setErrors,H=e.subheaderChildren,D=e.title,M=e.uuid,N=(0,y.i)().width,A="dashboard_after_width_".concat(M),R="dashboard_before_width_".concat(M),T=(0,i.useRef)(null),V=(0,i.useState)(O?p:(0,x.U2)(A,p)),W=V[0],z=V[1],F=(0,i.useState)(!1),L=F[0],U=F[1],q=(0,i.useState)(P?Math.max((0,x.U2)(R,k),13*j.iI):null),G=q[0],Q=q[1],X=(0,i.useState)(!1),J=X[0],K=X[1],Y=(0,i.useState)(null)[1],$=m.ZP.projects.list({},{revalidateOnFocus:!1}).data,ee=null===$||void 0===$?void 0:$.projects,ne=[];C?ne.push.apply(ne,(0,o.Z)(C)):(null===ee||void 0===ee?void 0:ee.length)>=1&&ne.push.apply(ne,[{label:function(){var e;return null===(e=ee[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return D}}]),(0,i.useEffect)((function(){null===T||void 0===T||!T.current||L||J||null===Y||void 0===Y||Y(T.current.getBoundingClientRect().width)}),[L,W,J,G,T,Y,N]),(0,i.useEffect)((function(){L||(0,x.t8)(A,W)}),[r,L,W,A]),(0,i.useEffect)((function(){J||(0,x.t8)(R,G)}),[J,G,R]);var te=(0,g.Z)(p);return(0,i.useEffect)((function(){O&&te!==p&&z(p)}),[O,p,te]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:D}),(0,f.jsx)(s.Z,{breadcrumbs:ne,menuItems:I,project:null===ee||void 0===ee?void 0:ee[0],version:null===ee||void 0===ee||null===(n=ee[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===S||void 0===S?void 0:S.length)&&(0,f.jsx)(d.lm,{children:(0,f.jsx)(b.Z,{navigationItems:S})}),(0,f.jsx)(u.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:t,afterHeightOffset:w.Mz,afterHidden:r,afterMousedownActive:L,afterWidth:W,before:P,beforeHeightOffset:w.Mz,beforeMousedownActive:J,beforeWidth:d.k1+(P?G:0),hideAfterCompletely:!0,leftOffset:P?d.k1:null,mainContainerRef:T,setAfterMousedownActive:U,setAfterWidth:z,setBeforeMousedownActive:K,setBeforeWidth:Q,children:[H&&(0,f.jsx)(h,{children:H}),_]})})]}),E&&(0,f.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===B||void 0===B?void 0:B(null)},children:(0,f.jsx)(l.Z,Z(Z({},E),{},{onClose:function(){return null===B||void 0===B?void 0:B(null)}}))})]})}},45838:function(e,n,t){"use strict";t.d(n,{GZ:function(){return d},Vq:function(){return a},cE:function(){return f},cl:function(){return l},kA:function(){return u}});var r=t(9518),o=t(23831),i=t(37391),c=t(49125),l=r.default.div.withConfig({displayName:"indexstyle__TableContainerStyle",componentId:"sc-1wzfyed-0"})(["position:relative;overflow:auto;"," "," ",""],i.w5,(function(e){return e.minHeight&&"\n    min-height: ".concat(e.minHeight,"px;\n  ")}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),u=r.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1wzfyed-1"})(["contain:size;width:100%;",""],(function(e){return(e.columnBorders||e.borderCollapseSeparate)&&"\n    border-collapse: separate;\n  "})),a=r.default.tr.withConfig({displayName:"indexstyle__TableRowStyle",componentId:"sc-1wzfyed-2"})([""," ",""],(function(e){return e.highlightOnHover&&"\n    &:hover {\n      background: ".concat((e.theme.interactive||o.Z.interactive).rowHoverBackground,";\n    }\n  ")}),(function(e){return!e.noHover&&"\n    &:hover {\n      background: ".concat((e.theme.interactive||o.Z.interactive).rowHoverBackground,";\n      cursor: pointer;\n    }\n  ")})),s=(0,r.css)(["text-overflow:ellipsis;white-space:nowrap;"," "," "," "," "," ",""],(function(e){return!e.alignTop&&"\n    vertical-align: middle;\n  "}),(function(e){return e.alignTop&&"\n    vertical-align: top;\n  "}),(function(e){return!e.noBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(c.iI/2,"px ").concat(c.iI,"px;\n  ")}),(function(e){return!e.compact&&"\n    padding: ".concat(c.iI,"px ").concat(2*c.iI,"px;\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,";\n  ")})),d=r.default.th.withConfig({displayName:"indexstyle__TableHeadStyle",componentId:"sc-1wzfyed-3"})([""," "," "," ",""],s,(function(e){return e.columnBorders&&"\n    border: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n    border-right: none;\n  ")}),(function(e){return e.columnBorders&&e.last&&"\n    border-right: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n  ")}),(function(e){return e.sticky&&"\n    background-color: ".concat((e.theme||o.Z).background.panel,";\n    border-bottom: 1px solid ").concat((e.theme.borders||o.Z.borders).medium,";\n    z-index: 2;\n    position: sticky;\n    top: 0;\n\n    &:first-child {\n      left: 0;\n      z-index: 2;\n    }\n  ")})),f=r.default.td.withConfig({displayName:"indexstyle__TableDataStyle",componentId:"sc-1wzfyed-4"})([""," "," "," "," "," "," ",""],s,(function(e){return e.rowVerticalPadding&&"\n    padding-top: ".concat(e.rowVerticalPadding,"px;\n    padding-bottom: ").concat(e.rowVerticalPadding,"px;\n  ")}),(function(e){return e.columnBorders&&"\n    border-left: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n  ")}),(function(e){return e.columnBorders&&e.last&&"\n    border-right: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n  ")}),(function(e){return e.stickyFirstColumn&&"\n    background-color: ".concat((e.theme||o.Z).background.panel,";\n    z-index: 1;\n    position: sticky;\n    left: 0;\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.interactive||o.Z.interactive).activeBorder,";\n  ")}),(function(e){return e.wrapColumns&&"\n    white-space: break-spaces;\n  "}))},87815:function(e,n,t){"use strict";var r=t(82394),o=t(12691),i=t.n(o),c=t(82684),l=t(67971),u=t(10919),a=t(86673),s=t(19711),d=t(46261),f=t(45838),p=t(28598);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.alignTop,t=e.borderCollapseSeparate,r=e.buildLinkProps,o=e.buildRowProps,h=e.columnBorders,b=e.columnFlex,m=e.columnMaxWidth,g=e.columns,w=void 0===g?[]:g,j=e.compact,x=e.highlightRowOnHover,y=e.isSelectedRow,O=e.noBorder,Z=e.noHeader,P=e.onClickRow,k=e.rows,C=e.rowVerticalPadding,_=e.stickyFirstColumn,E=e.stickyHeader,I=e.uuid,S=e.wrapColumns,B=(0,c.useMemo)((function(){return b.reduce((function(e,n){return e+(n||0)}),0)}),[b]),H=(0,c.useCallback)((function(e){if(b[e]){var n=Math.round(b[e]/B*100);return"".concat(n,"%")}return null}),[b,B]),D=(0,c.useMemo)((function(){return null===k||void 0===k?void 0:k.map((function(e,t){var l,a=null===r||void 0===r?void 0:r(t),s=(null===o||void 0===o?void 0:o(t))||{renderCell:null,renderRow:null},d=s.renderCell,b=s.renderRow,g=[];return e.forEach((function(r,o){var i;d&&(i=d(r,o)),i||(i=(0,p.jsx)(f.cE,{alignTop:n,columnBorders:h,compact:j,last:o===e.length-1,maxWidth:null===m||void 0===m?void 0:m(o),noBorder:O,rowVerticalPadding:C,selected:null===y||void 0===y?void 0:y(t),stickyFirstColumn:_&&0===o,width:H(o),wrapColumns:S,children:r},"".concat(I,"-row-").concat(t,"-cell-").concat(o))),g.push(i)})),l=b?b(g):(0,p.jsx)(f.Vq,{highlightOnHover:x,noHover:!(a||P),onClick:P?function(){return P(t)}:null,children:g},"".concat(I,"-row-").concat(t)),a?(0,c.createElement)(i(),v(v({},a),{},{key:"".concat(I,"-row-link-").concat(t),passHref:!0}),(0,p.jsx)(u.Z,{fullWidth:!0,noHoverUnderline:!0,noOutline:!0,style:{display:"table-row-group"},verticalAlignContent:!0,children:l})):l}))}),[n,r,H,h,m,j,o,x,y,O,P,C,k,_,I,S]);return(0,p.jsxs)(f.kA,{borderCollapseSeparate:t,columnBorders:h,children:[(null===w||void 0===w?void 0:w.length)>=1&&!Z&&(0,p.jsx)(f.Vq,{noHover:!0,children:w.map((function(e,n){return(0,p.jsx)(f.GZ,{columnBorders:h,compact:j,last:n===w.length-1,noBorder:O,sticky:E,children:(0,p.jsxs)(l.Z,{alignItems:"center",children:[(0,p.jsx)(s.ZP,{bold:!0,leftAligned:!0,monospace:!0,muted:!0,children:e.label?e.label():e.uuid}),e.tooltipMessage&&(0,p.jsx)(a.Z,{ml:"4px",children:(0,p.jsx)(d.Z,{appearBefore:!0,label:(0,p.jsx)(s.ZP,{leftAligned:!0,children:e.tooltipMessage}),lightBackground:!0,primary:!0})})]})},"".concat(I,"-col-").concat(e.uuid,"-").concat(n))}))}),D]})}},66050:function(e,n,t){"use strict";var r;t.d(n,{V:function(){return r}}),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.FAILED="failed",e.INITIAL="initial",e.RUNNING="running"}(r||(r={}))},92597:function(e,n,t){"use strict";t.r(n);var r=t(77837),o=t(82394),i=t(38860),c=t.n(i),l=t(82684),u=t(34376),a=t(1210),s=t(67971),d=t(51099),f=t(97496),p=t(41788),h=t(55378),v=t(86673),b=t(19711),m=t(82531),g=t(47409),w=t(66050),j=t(49125),x=t(33766),y=t(59e3),O=t(28598);function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function k(){var e=(0,u.useRouter)(),n=(0,y.iV)(),t=null!==n&&void 0!==n&&n.page?n.page:0,r={_limit:d.Q,_offset:t*d.Q};null!==n&&void 0!==n&&n.status&&(r.status=n.status);var o=m.ZP.pipeline_runs.list(r,{refreshInterval:3e3,revalidateOnFocus:!0}),i=o.data,c=o.mutate,p=(0,l.useMemo)((function(){return(null===i||void 0===i?void 0:i.pipeline_runs)||[]}),[i]),Z=(0,l.useMemo)((function(){var e;return(null===i||void 0===i||null===(e=i.metadata)||void 0===e?void 0:e.count)||[]}),[i]);return(0,O.jsxs)(a.Z,{title:"Pipeline runs",uuid:"pipeline_runs/index",children:[(0,O.jsx)(v.Z,{mx:2,my:1,children:(0,O.jsxs)(s.Z,{alignItems:"center",children:[(0,O.jsx)(b.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}),(0,O.jsx)(v.Z,{mr:1}),(0,O.jsxs)(h.Z,{compact:!0,defaultColor:!0,fitContent:!0,onChange:function(n){n.preventDefault(),"all"===n.target.value?e.push("/pipeline-runs"):(0,x.u)({page:0,status:n.target.value})},paddingRight:4*j.iI,placeholder:"Select run status",value:(null===n||void 0===n?void 0:n.status)||"all",children:[(0,O.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),Object.values(w.V).map((function(e){return(0,O.jsx)("option",{value:e,children:g.D[e]},e)}))]})]})}),(0,O.jsx)(f.Z,{fetchPipelineRuns:c,pipelineRuns:p}),(0,O.jsx)(v.Z,{p:2,children:(0,O.jsx)(d.Z,{maxPages:9,onUpdate:function(t){var r=Number(t),o=P(P({},n),{},{page:r>=0?r:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,y.uM)(o)))},page:Number(t),totalPages:Math.ceil(Z/d.Q)})})]})}k.getInitialProps=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,p.Z)(k)},60710:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return t(92597)}])}},function(e){e.O(0,[3850,2083,9767,9386,9898,4846,9774,2888,179],(function(){return n=60710,e(e.s=n);var n}));var n=e.O();_N_E=n}]);