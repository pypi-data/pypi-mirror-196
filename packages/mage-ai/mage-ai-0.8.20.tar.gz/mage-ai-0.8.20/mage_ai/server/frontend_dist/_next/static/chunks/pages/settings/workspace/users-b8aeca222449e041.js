(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2287],{45838:function(e,n,r){"use strict";r.d(n,{GZ:function(){return s},Vq:function(){return a},cE:function(){return p},cl:function(){return u},kA:function(){return l}});var t=r(9518),o=r(23831),i=r(37391),c=r(49125),u=t.default.div.withConfig({displayName:"indexstyle__TableContainerStyle",componentId:"sc-1wzfyed-0"})(["position:relative;overflow:auto;"," "," ",""],i.w5,(function(e){return e.minHeight&&"\n    min-height: ".concat(e.minHeight,"px;\n  ")}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),l=t.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1wzfyed-1"})(["contain:size;width:100%;",""],(function(e){return(e.columnBorders||e.borderCollapseSeparate)&&"\n    border-collapse: separate;\n  "})),a=t.default.tr.withConfig({displayName:"indexstyle__TableRowStyle",componentId:"sc-1wzfyed-2"})([""," ",""],(function(e){return e.highlightOnHover&&"\n    &:hover {\n      background: ".concat((e.theme.interactive||o.Z.interactive).rowHoverBackground,";\n    }\n  ")}),(function(e){return!e.noHover&&"\n    &:hover {\n      background: ".concat((e.theme.interactive||o.Z.interactive).rowHoverBackground,";\n      cursor: pointer;\n    }\n  ")})),d=(0,t.css)(["text-overflow:ellipsis;white-space:nowrap;"," "," "," "," "," ",""],(function(e){return!e.alignTop&&"\n    vertical-align: middle;\n  "}),(function(e){return e.alignTop&&"\n    vertical-align: top;\n  "}),(function(e){return!e.noBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(c.iI/2,"px ").concat(c.iI,"px;\n  ")}),(function(e){return!e.compact&&"\n    padding: ".concat(c.iI,"px ").concat(2*c.iI,"px;\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,";\n  ")})),s=t.default.th.withConfig({displayName:"indexstyle__TableHeadStyle",componentId:"sc-1wzfyed-3"})([""," "," "," ",""],d,(function(e){return e.columnBorders&&"\n    border: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n    border-right: none;\n  ")}),(function(e){return e.columnBorders&&e.last&&"\n    border-right: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n  ")}),(function(e){return e.sticky&&"\n    background-color: ".concat((e.theme||o.Z).background.panel,";\n    border-bottom: 1px solid ").concat((e.theme.borders||o.Z.borders).medium,";\n    z-index: 2;\n    position: sticky;\n    top: 0;\n\n    &:first-child {\n      left: 0;\n      z-index: 2;\n    }\n  ")})),p=t.default.td.withConfig({displayName:"indexstyle__TableDataStyle",componentId:"sc-1wzfyed-4"})([""," "," "," "," "," "," ",""],d,(function(e){return e.rowVerticalPadding&&"\n    padding-top: ".concat(e.rowVerticalPadding,"px;\n    padding-bottom: ").concat(e.rowVerticalPadding,"px;\n  ")}),(function(e){return e.columnBorders&&"\n    border-left: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n  ")}),(function(e){return e.columnBorders&&e.last&&"\n    border-right: 1px solid ".concat((e.theme.borders||o.Z.borders).light,";\n  ")}),(function(e){return e.stickyFirstColumn&&"\n    background-color: ".concat((e.theme||o.Z).background.panel,";\n    z-index: 1;\n    position: sticky;\n    left: 0;\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.interactive||o.Z.interactive).activeBorder,";\n  ")}),(function(e){return e.wrapColumns&&"\n    white-space: break-spaces;\n  "}))},87815:function(e,n,r){"use strict";var t=r(82394),o=r(12691),i=r.n(o),c=r(82684),u=r(67971),l=r(10919),a=r(86673),d=r(19711),s=r(46261),p=r(45838),f=r(28598);function h(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function m(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}n.Z=function(e){var n=e.alignTop,r=e.borderCollapseSeparate,t=e.buildLinkProps,o=e.columnBorders,h=e.columnFlex,b=e.columnMaxWidth,v=e.columns,w=void 0===v?[]:v,g=e.compact,y=e.highlightRowOnHover,O=e.isSelectedRow,j=e.noBorder,x=e.noHeader,_=e.onClickRow,P=e.rows,Z=e.rowVerticalPadding,k=e.stickyFirstColumn,C=e.stickyHeader,S=e.uuid,B=e.wrapColumns,E=(0,c.useMemo)((function(){return h.reduce((function(e,n){return e+(n||0)}),0)}),h),H=(0,c.useCallback)((function(e){if(h[e]){var n=Math.round(h[e]/E*100);return"".concat(n,"%")}return null}),[]),D=(0,c.useMemo)((function(){return null===P||void 0===P?void 0:P.map((function(e,r){var u=null===t||void 0===t?void 0:t(r),a=e.map((function(t,i){return(0,f.jsx)(p.cE,{alignTop:n,columnBorders:o,compact:g,last:i===e.length-1,maxWidth:null===b||void 0===b?void 0:b(i),noBorder:j,rowVerticalPadding:Z,selected:null===O||void 0===O?void 0:O(r),stickyFirstColumn:k&&0===i,width:H(i),wrapColumns:B,children:t},"".concat(S,"-row-").concat(r,"-cell-").concat(i))})),d=(0,f.jsx)(p.Vq,{highlightOnHover:y,noHover:!(u||_),onClick:_?function(){return _(r)}:null,children:a},"".concat(S,"-row-").concat(r));return u?(0,c.createElement)(i(),m(m({},u),{},{key:"".concat(S,"-row-link-").concat(r),passHref:!0}),(0,f.jsx)(l.Z,{fullWidth:!0,noHoverUnderline:!0,noOutline:!0,style:{display:"table-row-group"},verticalAlignContent:!0,children:d})):d}))}),[n,t,H,b,w,g,O,j,_,P]);return(0,f.jsxs)(p.kA,{borderCollapseSeparate:r,columnBorders:o,children:[(null===w||void 0===w?void 0:w.length)>=1&&!x&&(0,f.jsx)(p.Vq,{noHover:!0,children:w.map((function(e,n){return(0,f.jsx)(p.GZ,{columnBorders:o,compact:g,last:n===w.length-1,noBorder:j,sticky:C,children:(0,f.jsxs)(u.Z,{alignItems:"center",children:[(0,f.jsx)(d.ZP,{bold:!0,leftAligned:!0,monospace:!0,muted:!0,children:e.label?e.label():e.uuid}),e.tooltipMessage&&(0,f.jsx)(a.Z,{ml:"4px",children:(0,f.jsx)(s.Z,{appearBefore:!0,label:(0,f.jsx)(d.ZP,{leftAligned:!0,children:e.tooltipMessage}),lightBackground:!0,primary:!0})})]})},"".concat(S,"-col-").concat(e.uuid,"-").concat(n))}))}),D]})}},60921:function(e,n,r){"use strict";r.r(n);var t=r(77837),o=r(82394),i=r(38860),c=r.n(i),u=r(82684),l=r(34376),a=r(60328),d=r(87372),s=r(41788),p=r(30775),f=r(86673),h=r(87815),m=r(19711),b=r(20582),v=r(82531),w=r(66166),g=r(10503),y=r(49125),O=r(79585),j=r(63153),x=r(9736),_=r(33766),P=r(7715),Z=r(59e3),k=r(28598);function C(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function S(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?C(Object(r),!0).forEach((function(n){(0,o.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function B(){var e=(0,l.useRouter)(),n=((0,x.PR)()||{}).id,r=(0,u.useState)(null),t=r[0],o=r[1],i=v.ZP.users.list({},{revalidateOnFocus:!1}),c=i.data,s=i.mutate,C=(0,u.useMemo)((function(){return(null===c||void 0===c?void 0:c.users)||[]}),[c]),B=v.ZP.users.detail(null===t||void 0===t?void 0:t.user_id,{},{revalidateOnFocus:!1}),E=B.data,H=B.mutate,D=null===E||void 0===E?void 0:E.user,I=(0,Z.iV)(),T=(0,w.Z)(I);(0,u.useEffect)((function(){var e=I.add_new_user,n=I.user_id;if(!(0,P.Xy)(I,T)){var r=S(S({},T),I);n?r.user_id=n:delete r.user_id,e?r.add_new_user=e:delete r.add_new_user,o(r)}}),[I,T]);var V=null===t||void 0===t?void 0:t.add_new_user,N=(0,u.useMemo)((function(){return V?(0,k.jsx)(f.Z,{p:y.cd,children:(0,k.jsx)(b.Z,{newUser:!0,onSaveSuccess:function(){(0,_.u)({add_new_user:null,user_id:null}),s()},title:"Add new user",user:{}})}):D?(0,k.jsx)(f.Z,{p:y.cd,children:(0,k.jsx)(b.Z,{hideFields:[j.s7],onDeleteSuccess:function(){(0,_.u)({add_new_user:null,user_id:null}),s()},onSaveSuccess:function(){H(),s()},showDelete:!0,title:"Edit user",user:D})}):null}),[H,s,V,D]);return(0,k.jsxs)(p.Z,{after:N,afterHidden:!D&&!V,uuidItemSelected:O.eC,uuidWorkspaceSelected:O.WH,children:[(0,k.jsx)(f.Z,{p:y.cd,children:(0,k.jsx)(a.Z,{beforeIcon:(0,k.jsx)(g.mm,{}),onClick:function(){return(0,_.u)({add_new_user:1,user_id:null})},primary:!0,children:"Add new user"})}),(0,k.jsx)(f.Z,{p:y.cd,children:(0,k.jsx)(d.Z,{children:"Users"})}),(0,k.jsx)(h.Z,{columnFlex:[1,1,1],columns:[{uuid:"Username"},{uuid:"Email"},{uuid:"Role"}],isSelectedRow:function(e){var n;return(null===(n=C[e])||void 0===n?void 0:n.id)===(null===D||void 0===D?void 0:D.id)},onClickRow:function(r){var t,o=null===(t=C[r])||void 0===t?void 0:t.id;o===n?e.push("/settings/account/profile"):(0,_.u)({add_new_user:null,user_id:o})},rows:C.map((function(e){var n=e.email,r=e.roles_display,t=e.username;return[(0,k.jsx)(m.ZP,{bold:!0,children:t},"username"),(0,k.jsx)(m.ZP,{default:!0,children:n},"email"),(0,k.jsx)(m.ZP,{default:!0,children:r},"roles")]})),uuid:"pipeline-runs"})]})}B.getInitialProps=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,s.Z)(B)},33766:function(e,n,r){"use strict";r.d(n,{u:function(){return d}});var t=r(75582),o=r(82394),i=r(34376),c=r.n(i),u=r(59e3);function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){(0,o.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function d(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.replaceParams,i=r.pushHistory,l=o?{}:(0,u.iV)();n=window.location.pathname;var d=i?c().push:c().replace,s=a(a({},l),e);Object.entries(e).forEach((function(e){var n=(0,t.Z)(e,2),r=n[0],o=n[1];"undefined"!==typeof o&&null!==o||delete s[r]}));var p=(0,u.uM)(s);p.length>=1&&(p="?".concat(p));var f="".concat(n.split("?")[0]).concat(p);return d(c().router.pathname,f,{shallow:!0})}},48673:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/workspace/users",function(){return r(60921)}])}},function(e){e.O(0,[3850,9767,3573,434,9898,5477,9774,2888,179],(function(){return n=48673,e(e.s=n);var n}));var n=e.O();_N_E=n}]);